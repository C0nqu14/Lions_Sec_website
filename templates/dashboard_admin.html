{% extends "base.html" %}
{% block title %}Dashboard Administrador{% endblock %}
{% block content %}

<div class="py-5">
    
    <h1 class="page-title mb-4">
        <span class="highlight-red">//</span> SYSTEM ROOT ACCESS
    </h1>
    <p class="lead text-muted mb-5">
        Bem-vindo(a), <span class="highlight-red">{{ current_user.username | upper }}</span>. Você tem acesso total ao sistema.
    </p>

    <h2 class="page-title fs-3 mb-4">
        <span class="highlight-red">>></span> VISÃO GERAL DO SISTEMA
    </h2>
    
    <div class="row g-4 mb-5">
        
        <div class="col-lg-4 col-md-6">
            <div class="card p-4 h-100">
                <div class="d-flex align-items-center">
                    <i class="fas fa-users fa-3x highlight-red me-4"></i>
                    <div>
                        <p class="text-muted mb-0 small">TOTAL DE UTILIZADORES</p>
                        <h3 class="card-title display-6 fw-bold">{{ total_users }}</h3>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-6">
            <div class="card p-4 h-100">
                <div class="d-flex align-items-center">
                    <i class="fas fa-user-clock fa-3x highlight-red me-4"></i>
                    <div>
                        <p class="text-muted mb-0 small">INSCRIÇÕES PENDENTES</p>
                        <h3 class="card-title display-6 fw-bold">{{ pending_enrollments }}</h3>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4 col-md-12">
            <div class="card p-4 h-100">
                <div class="d-flex align-items-center">
                    <i class="fas fa-chalkboard fa-3x highlight-red me-4"></i>
                    <div>
                        <p class="text-muted mb-0 small">CURSOS PUBLICADOS</p>
                        <h3 class="card-title display-6 fw-bold">{{ total_courses }}</h3>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <h2 class="page-title fs-3 mb-4">
        <span class="highlight-red">>></span> FERRAMENTAS ADMINISTRATIVAS
    </h2>
    
    <div class="row g-4">
        
        <div class="col-lg-4 col-md-6">
            <div class="card p-4 h-100">
                <i class="fas fa-users-cog fa-2x highlight-red mb-3"></i>
                <h5 class="card-title fw-bold">Gerir Utilizadores</h5>
                <p class="text-muted mb-3 small">Edite ou exclua contas de alunos e professores. Crie novas contas de professor.</p>
                <a href="{{ url_for('manage_users') }}" class="btn btn-outline-red btn-sm">Acessar <i class="fas fa-chevron-right ms-1"></i></a>
            </div>
        </div>

        <div class="col-lg-4 col-md-6">
            <div class="card p-4 h-100">
                <i class="fas fa-user-check fa-2x highlight-red mb-3"></i>
                <h5 class="card-title fw-bold">Autorizar Inscrições</h5>
                <p class="text-muted mb-3 small">Aprove ou rejeite {{ pending_enrollments }} pedidos de alunos.</p>
                <a href="{{ url_for('manage_enrollments') }}" class="btn {% if pending_enrollments > 0 %}btn-danger{% else %}btn-outline-red{% endif %} btn-sm">Revisar Pendentes <i class="fas fa-chevron-right ms-1"></i></a>
            </div>
        </div>

        <div class="col-lg-4 col-md-6">
            <div class="card p-4 h-100">
                <i class="fas fa-graduation-cap fa-2x highlight-red mb-3"></i>
                <h5 class="card-title fw-bold">Gerir Cursos ({{ total_courses }})</h5>
                <p class="text-muted mb-3 small">Acesso completo à criação, edição e exclusão de todos os cursos e módulos.</p>
                <a href="{{ url_for('professor_courses') }}" class="btn btn-primary btn-sm">Acessar Gestão <i class="fas fa-edit ms-1"></i></a>
            </div>
        </div>
        
    </div>
    
    <hr style="border-color: var(--color-border);" class="my-5">
    <h2 class="page-title fs-3 mb-4">
        <span class="highlight-red">>></span> FERRAMENTAS CTF
    </h2>
    
    <div class="row g-4">
        <div class="col-lg-4 col-md-6">
            <div class="card p-4 h-100">
                <i class="fas fa-flag-checkered fa-2x highlight-red mb-3"></i>
                <h5 class="card-title fw-bold">Criar / Gerir CTFs</h5>
                <p class="text-muted mb-3 small">Crie, edite ou remova desafios Capture The Flag.</p>
                <a href="{{ url_for('create_ctf') }}" class="btn btn-outline-red btn-sm">Criar CTF <i class="fas fa-terminal ms-1"></i></a>
            </div>
        </div>
        
        <div class="col-lg-4 col-md-6">
            <div class="card p-4 h-100">
                <i class="fas fa-chart-bar fa-2x highlight-red mb-3"></i>
                <h5 class="card-title fw-bold">Ver Ranking Global</h5>
                <p class="text-muted mb-3 small">Monitore o desempenho dos alunos no placar CTF.</p>
                <a href="{{ url_for('ctf_ranking') }}" class="btn btn-outline-red btn-sm">Ver Ranking <i class="fas fa-trophy ms-1"></i></a>
            </div>
        </div>
    </div>

</div>

{% endblock %}