<!DOCTYPE html>
<html lang="pt-br" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lions Security | {% block title %}{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/dist.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}">
</head>
<body class="bg-black text-zinc-100 font-sans antialiased overflow-x-hidden">
  <div class="bg-grid"></div>

  <nav style="backdrop-filter: blur(6px); background: rgba(0,0,0,.5); border-bottom:1px solid rgba(255,255,255,.04); position:fixed; width:100%; z-index:50;">
    <div style="max-width:1100px; margin:0 auto; padding:14px 16px; display:flex; justify-content:space-between; align-items:center;">
      <a href="{{ url_for('home') }}" style="font-weight:800; font-size:1.3rem; color:#fff; text-decoration:none;" class="glow-text">Lions Security</a>
      <div style="display:flex; gap:12px; align-items:center;">
        <a href="{{ url_for('courses') }}" class="link">Cursos</a>
        <a href="{{ url_for('ctfs') }}" class="link">CTF</a>
        <a href="{{ url_for('ctf_ranking') }}" class="link">Ranking</a>
        {% if current_user.is_authenticated %}
          <a href="{{ url_for('dashboard') }}" class="link">Dashboard</a>
          <a href="{{ url_for('logout') }}" class="btn btn-primary">Sair</a>
        {% else %}
          <a href="{{ url_for('login') }}" class="link">Login</a>
          <a href="{{ url_for('register') }}" class="btn btn-primary">Registrar</a>
        {% endif %}
        <!--<button id="toggle-mascot" class="btn btn-ghost">Mascote</button><--->
      </div>
    </div>
  </nav>

  <main style="padding-top:84px; max-width:1100px; margin:0 auto; padding-left:16px; padding-right:16px;">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div style="margin-top:12px;">
          {% for category, message in messages %}
            <div class="flash {{ category }}">{{ message }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </main>

  <!-- Mascote -->
  <div id="mascot" class="hidden" style="position:fixed; right:18px; bottom:18px; width:160px; z-index:55;">
    <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#ef4444"/>
          <stop offset="100%" stop-color="#a855f7"/>
        </linearGradient>
      </defs>
      <circle cx="100" cy="100" r="70" fill="url(#g1)" opacity="0.13"/>
      <circle cx="100" cy="100" r="45" fill="#0a0a0a" stroke="#27272a" stroke-width="2"/>
      <rect x="70" y="88" width="60" height="28" rx="6" fill="#18181b" stroke="#3f3f46"/>
      <circle id="eyeL" cx="88" cy="102" r="5" fill="#22d3ee"/>
      <circle id="eyeR" cx="112" cy="102" r="5" fill="#22d3ee"/>
      <path d="M85 122 Q100 132 115 122" stroke="#94a3b8" stroke-width="3" fill="none"/>
    </svg>
  </div>
  <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
